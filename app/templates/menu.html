{% extends "base.html" %}

{% block title %}Cardápio – Cupcakes Gourmet{% endblock %}

{% block content %}
<h2>Cardápio de Cupcakes</h2>

<div class="grid">
  {% for cupcake in cupcakes %}
  <article class="card">
    <h3>{{ cupcake.name }}</h3>
    <p class="card-description">{{ cupcake.description }}</p>
    <p class="card-price">R$ {{ '%.2f'|format(cupcake.price) }}</p>

    <form action="/order" method="post" class="order-form">
      <input type="hidden" name="cupcake_id" value="{{ cupcake.id }}" />

      <label>
        Seu nome:
        <input type="text" name="customer_name" required />
      </label>

      <label>
        Telefone/WhatsApp:
        <input
          type="tel"
          name="customer_phone"
          required
          placeholder="(99) 99999-9999"
          pattern="\d{10,11}"
          title="Informe apenas números, com DDD (10 ou 11 dígitos)"
        />
      </label>

      <label>
        Quantidade:
        <input type="number" name="quantity" min="1" value="1" required />
      </label>

      <label>
        Forma de entrega:
        <select name="delivery_type" required>
          <option value="retirada">Retirada na loja</option>
          <option value="delivery">Delivery</option>
        </select>
      </label>

      <label>
        Observações (opcional):
        <textarea
          name="notes"
          rows="3"
          placeholder="Ex.: sem cobertura, pedido de aniversário, horário preferencial..."
        ></textarea>
      </label>

      <button type="submit" class="btn btn-primary">Fazer pedido</button>
    </form>
  </article>
  {% endfor %}
</div>
{% endblock %}
